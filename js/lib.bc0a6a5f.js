(function(){"use strict";var e={6479:function(e,t,n){var o=n(9963),i=n(6252),s=n(3577);const l=e=>((0,i.dD)("data-v-1529280e"),e=e(),(0,i.Cn)(),e),r={class:"content"},a={class:"side"},u={class:"search"},c=["value"],f={class:"webLoadList"},m={class:"main"},d={class:"flex"},p={class:"formation"},g={class:"example"},_=l((()=>(0,i._)("div",null,[(0,i._)("p",null,"記入例"),(0,i._)("ul",null,[(0,i._)("li",null,"コンセプト or 想定ステージ"),(0,i._)("li",null,"アタッカー：xxxx"),(0,i._)("li",null,"サポート：xxxx -> zzzz"),(0,i._)("li",null,"立ち回りや連撃タイムライン"),(0,i._)("li",null,"代用鏡の候補")])],-1))),v={class:"buttons flex"},b=l((()=>(0,i._)("div",null,null,-1))),w={class:"menus flex"},h=["onClick"],L={class:"right flex"},S={class:"view"},x={class:"memo"},y={class:"search"},k={class:"search"},D={class:"tokusei-view"},O=l((()=>(0,i._)("div",null,"投稿コード",-1))),F=l((()=>(0,i._)("input",{id:"wlInput",type:"text",name:"code",required:"",autocomplete:"off",placeholder:"投稿コード"},null,-1))),C=[O,F],j={class:"footer flex"},T={key:0},I=l((()=>(0,i._)("input",{type:"submit",form:"wlForm",value:"読込"},null,-1)));function J(e,t,n,l,O,F){const J=(0,i.up)("list-item"),H=(0,i.up)("form-edit"),z=(0,i.up)("simple-search"),N=(0,i.up)("tokusei-search"),Y=(0,i.up)("tokusei-view"),$=(0,i.up)("modal");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",r,[(0,i._)("div",a,[(0,i._)("div",u,[(0,i._)("input",{class:"filter",onChange:t[0]||(t[0]=e=>l.sideSearch(e.target.value)),value:l.state.sideSearchValue,placeholder:"検索（メモ内も対象）"},null,40,c),(0,i._)("button",{onClick:t[1]||(t[1]=e=>l.sideSearch(null))},"クリア")]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.state.sideList,(e=>((0,i.wg)(),(0,i.j4)(J,{key:e.index,form:e.form,"is-local-data":"",onClick:t=>l.edit(e.form,e.index),onCopy:t=>l.cbCopy(e.form),onDelete:t=>l.del(e.index),style:(0,s.j5)(l.state.selectIndex===e.index?"outline: auto;":"")},null,8,["form","onClick","onCopy","onDelete","style"])))),128)),(0,i._)("div",f,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.webLoadState.sideList,(e=>((0,i.wg)(),(0,i.j4)(J,{form:e,onClick:t=>l.edit(e,null)},null,8,["form","onClick"])))),256))])]),(0,i._)("div",m,[(0,i._)("div",d,[(0,i._)("div",p,[(0,i.Wm)(H,{form:l.formState.selectForm,"select-target":l.formState.selectTarget,onSelect:l.setSelectTarget,onRemove:l.selectTargetRemove,onDrop:l.dropItem},null,8,["form","select-target","onSelect","onRemove","onDrop"])]),(0,i._)("div",g,[_,(0,i._)("div",v,[(0,i._)("button",{onClick:t[2]||(t[2]=(...e)=>l.reset&&l.reset(...e))},"フォーム初期化"),b])])]),(0,i._)("div",null,[(0,i._)("div",w,[(0,i._)("button",{class:(0,s.C_)(["wide",{select:"memo"==l.state.menusSelect}]),onClick:t[3]||(t[3]=e=>l.state.menusSelect="memo")},"メモ",2),(0,i._)("button",{class:(0,s.C_)({select:"search"==l.state.menusSelect}),onClick:t[4]||(t[4]=e=>l.state.menusSelect="search")},"簡易検索",2),((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)([1,2,3],(e=>(0,i._)("button",{class:(0,s.C_)({select:l.state.menusSelect=="nsearch"+e}),onClick:t=>l.state.menusSelect="nsearch"+e},"検索",10,h))),64)),(0,i._)("div",L,[null!=l.state.selectIndex?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"option",onClick:t[5]||(t[5]=(...e)=>l.update&&l.update(...e))},"上書き")):(0,i.kq)("",!0),(0,i._)("button",{class:"option",onClick:t[6]||(t[6]=(...e)=>l.save&&l.save(...e))},"新規保存")])]),(0,i._)("div",S,[(0,i.wy)((0,i._)("div",x,[(0,i.wy)((0,i._)("textarea",{autocomplete:"off",placeholder:"編成ノート","onUpdate:modelValue":t[7]||(t[7]=e=>l.formState.selectForm.memo=e)},null,512),[[o.nr,l.formState.selectForm.memo]])],512),[[o.F8,"memo"==l.state.menusSelect]]),(0,i.wy)((0,i._)("div",y,[(0,i.Wm)(z)],512),[[o.F8,"search"==l.state.menusSelect]]),((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)([1,2,3],(e=>(0,i.wy)((0,i._)("div",k,[(0,i.Wm)(N)],512),[[o.F8,l.state.menusSelect=="nsearch"+e]]))),64)),(0,i._)("div",D,[(0,i.Wm)(Y,{form:l.formState.selectForm},null,8,["form"])])])])])]),(0,i.Wm)($,{render:l.webLoadState.modal.show},{default:(0,i.w5)((()=>[(0,i._)("form",{id:"wlForm",onSubmit:t[8]||(t[8]=(0,o.iM)(((...e)=>l.execWebLoad&&l.execWebLoad(...e)),["prevent"]))},C,32),(0,i._)("div",j,[l.webLoadState.loading?((0,i.wg)(),(0,i.iD)("button",T,"...")):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[I,(0,i._)("button",{onClick:t[9]||(t[9]=e=>l.webLoadState.modal.show=!1)},"閉じる")],64))])])),_:1},8,["render"])],64)}var H=n(2262),z=n(7299),N=n(6797),Y=n(4287),$=n(7349);const q={class:"images"},K={key:0,class:"left"},V={class:"memo"};function R(e,t,n,l,r,a){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",q,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.list,(e=>((0,i.wg)(),(0,i.iD)("div",{class:(0,s.C_)(["img",e])},null,2)))),256)),n.isLocalData?((0,i.wg)(),(0,i.iD)("div",K,[(0,i._)("button",{onClick:t[0]||(t[0]=(0,o.iM)((t=>e.$emit("delete")),["stop"]))},"削除")])):(0,i.kq)("",!0)]),(0,i._)("pre",V,(0,s.zw)(n.form.memo),1)])}var W={props:{form:Object,isLocalData:Boolean},setup(e){const t=(0,i.f3)("loadData"),n=(0,i.Fl)((()=>e.form?Object.values(e.form).map((e=>e.unit_no)).filter((e=>!!e)).map((e=>t.unitList.find((t=>t.no===e))?.image)):[]));return{list:n}}},Z=n(3744);const P=(0,Z.Z)(W,[["render",R],["__scopeId","data-v-038acbb4"]]);var E=P,M=n(7837),A=n(5757);const U=e=>((0,i.dD)("data-v-79c01d1f"),e=e(),(0,i.Cn)(),e),B={class:"filter"},Q=U((()=>(0,i._)("label",null,"特性絞込",-1))),G={class:"item"},X={class:"images"},ee={class:"text"},te={class:"spec"},ne=["title"],oe={class:"b"};function ie(e,t,n,l,r,a){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.wy)((0,i._)("div",B,[Q,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.filter=e),placeholder:"特性A,特性B,..."},null,512),[[o.nr,l.filter]])],512),[[o.F8,l.list.length]]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.list,(e=>((0,i.wg)(),(0,i.iD)("div",G,[(0,i._)("div",X,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.images,(e=>((0,i.wg)(),(0,i.iD)("div",{class:(0,s.C_)(["img",e])},null,2)))),256))]),(0,i._)("div",ee,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.tList,(e=>((0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",null,[(0,i.Uk)((0,s.zw)(e.name),1),(0,i._)("span",te,(0,s.zw)(e.spec),1)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.tokusei.filter((e=>l.filterRegexp.test(e.特性))),(e=>((0,i.wg)(),(0,i.iD)("div",{class:"tokusei",title:`${e.効果量} ${e.持続} ${e.累積}`},[(0,i._)("span",oe,(0,s.zw)(e.特性),1),(0,i._)("span",null,"("+(0,s.zw)(e.対象.join(","))+"): "+(0,s.zw)(e.trigger1)+" "+(0,s.zw)(e.andor)+" "+(0,s.zw)(e.trigger2),1)],8,ne)))),256))])))),256))])])))),256))])}var se={props:{form:Object},setup(e){const t=(0,i.f3)("loadData");function n(e){const n=t.unitList.find((t=>t.no===e.unit_no)),o=t.soubiList.find((t=>t.no===e.soubi1_no)),i=t.soubiList.find((t=>t.no===e.soubi2_no)),s=[];return n&&s.push({name:n.name,image:n.image,spec:le(n),list:t.utList.filter((e=>e.unit_no===n.no))}),o&&s.push({name:o.name,image:o.image,list:t.stList.filter((e=>e.soubi_no===o.no))}),i&&s.push({name:i.name,image:i.image,list:t.stList.filter((e=>e.soubi_no===i.no))}),0===s.length?null:{images:s.map((e=>e.image)),tList:s.map((e=>({name:e.name,spec:e.spec,tokusei:e.list.sort(re)})))}}const o=(0,H.iH)(""),s=(0,i.Fl)((()=>{const e=o.value;if(!e)return/./;const t=e.split(/,|、/).filter((e=>e)).join("|");return new RegExp(t)})),l=(0,i.Fl)((()=>e.form?[n(e.form[1]),n(e.form[2]),n(e.form[3]),n(e.form[4]),n(e.form[5]),n(e.form[6])].filter((e=>e)):[]));return{filter:o,list:l,filterRegexp:s}}};function le(e){return`${e.speed}: ${e.hit}回, 気: ${e.rengeki_cost1} / ${e.rengeki_cost2} / ${e.rengeki_cost3}`}function re(e,t){return e.特性<t.特性?-1:e.特性>t.特性?1:0}const ae=(0,Z.Z)(se,[["render",ie],["__scopeId","data-v-79c01d1f"]]);var ue=ae,ce={components:{formEdit:z.Z,simpleSearch:N.Z,TokuseiSearch:Y.Z,ListItem:E,modal:M.Z,TokuseiView:ue},setup(){const e=(0,H.qj)({formList:$.libData()||[],selectIndex:null,sideList:[],sideSearchValue:null,menusSelect:"memo"}),t=(0,H.qj)({modal:{show:!1},loading:!1,loadList:[],sideList:[]}),n=(0,H.qj)({selectForm:fe(),selectTarget:null}),o=(0,H.qj)({unitList:[],utList:[],soubiList:[],stList:[]});function s(n=e.sideSearchValue){e.sideSearchValue=n;let i=e.formList.map(((e,t)=>({index:t,form:e}))),s=[...t.loadList];if(n){const e=new RegExp(n.split(/,|、/).filter((e=>e)).join("|")),t={...o};i=i.filter((n=>me(n.form,e,t))),s=s.filter((n=>me(n,e,t)))}e.sideList=i,t.sideList=s}function l(){t.modal.show=!0,(0,i.Y3)((()=>{window.wlInput.focus()}))}function r(t,o){n.selectTarget=null,n.selectForm=JSON.parse(JSON.stringify(t)),e.selectIndex=o}function a(){const t=JSON.parse(JSON.stringify(n.selectForm)),o=e.formList.push(t);$.libData(e.formList),e.selectIndex=o-1,e.sideList.push({index:o-1,form:t})}function u(){const t=e.formList[e.selectIndex];Object.assign(t,JSON.parse(JSON.stringify(n.selectForm))),$.libData(e.formList)}function c(t){e.selectIndex=null,e.formList.splice(t,1),$.libData(e.formList),s()}function f(){e.selectIndex=null,n.selectForm=fe()}function m(){window.open("https://docs.google.com/forms/d/e/1FAIpQLSfDhQtVFc_H6e4D_qbC2lkzPVvxSl_v9kHPv-0fbAjJbpqJbw/viewform","googleForms")}function d(e){n.selectTarget=e}function p(){const[,e,t]=n.selectTarget.split("_");if("u"===t)n.selectForm[e].unit_no=null;else{const o=`soubi${/\d/.exec(t)}_no`;n.selectForm[e][o]=null}}function g(e){const{no:t,option:o,dragOption:i}=e,s=_(o.target);if(null===i)n.selectForm[o.pos][s]=t;else{const e=_(i.target),t=n.selectForm[i.pos][e],l=n.selectForm[o.pos][s];n.selectForm[o.pos][s]=t,n.selectForm[i.pos][e]=l}}function _(e){return"u"===e?"unit_no":`soubi${/s([1,2])/.exec(e)[1]}_no`}function v(e){const t=JSON.stringify(e);navigator.clipboard.writeText(t).then((()=>{alert("コピーしました")}))}function b(e){const n=e.target.code.value;t.loading=!0,(0,A.Yi)(n).then((e=>{null===e?alert("データがありません"):(t.loadList=e,t.sideList=e),t.loading=!1,t.modal.show=!1})).catch((()=>{alert("error"),t.loading=!1,t.modal.show=!1}))}return(0,i.JJ)("loadData",o),$.load().then((e=>{o.unitList=e.unitList,o.utList=e.unitTokuseiList,o.soubiList=e.soubiList,o.stList=e.soubiTokuseiList})),s(null),{state:e,formState:n,sideSearch:s,webLoadShow:l,edit:r,save:a,update:u,del:c,reset:f,openGoogleForms:m,setSelectTarget:d,selectTargetRemove:p,dropItem:g,cbCopy:v,webLoadState:t,execWebLoad:b}}};function fe(){return{1:{},2:{},3:{},4:{},5:{},6:{},memo:""}}function me(e,t,n){let o,i;if(e.memo&&t.test(e.memo))return!0;for(const s of[1,2,3,4,5,6]){if(e[s].unit_no){if(o=e[s].unit_no,i=n.unitList.find((e=>e.no===o)),t.test(JSON.stringify(i)))return!0;if(i=n.utList.filter((e=>e.unit_no===o)),t.test(JSON.stringify(i)))return!0}if(e[s].soubi1_no){if(o=e[s].soubi1_no,i=n.soubiList.find((e=>e.no===o)),t.test(JSON.stringify(i)))return!0;if(i=n.stList.filter((e=>e.soubi_no===o)),t.test(JSON.stringify(i)))return!0}if(e[s].soubi1_no){if(o=e[s].soubi1_no,i=n.soubiList.find((e=>e.no===o)),t.test(JSON.stringify(i)))return!0;if(i=n.stList.filter((e=>e.soubi_no===o)),t.test(JSON.stringify(i)))return!0}}return!1}const de=(0,Z.Z)(ce,[["render",J],["__scopeId","data-v-1529280e"]]);var pe=de;(0,o.ri)(pe).mount("#main")}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,o,i,s){if(!o){var l=1/0;for(c=0;c<e.length;c++){o=e[c][0],i=e[c][1],s=e[c][2];for(var r=!0,a=0;a<o.length;a++)(!1&s||l>=s)&&Object.keys(n.O).every((function(e){return n.O[e](o[a])}))?o.splice(a--,1):(r=!1,s<l&&(l=s));if(r){e.splice(c--,1);var u=i();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[o,i,s]}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.j=647}(),function(){var e={647:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,s,l=o[0],r=o[1],a=o[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(a)var c=a(n)}for(t&&t(o);u<l.length;u++)s=l[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},o=self["webpackChunkfront"]=self["webpackChunkfront"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998,64],(function(){return n(6479)}));o=n.O(o)})();