(function(){"use strict";var t={9555:function(t,e,i){var l=i(9963),n=i(6252),o=i(3577);const s=t=>((0,n.dD)("data-v-2017b8ab"),t=t(),(0,n.Cn)(),t),r={class:"filter",open:""},a=(0,n.Uk)("絞り込み"),u={class:"grid"},c=s((()=>(0,n._)("div",{class:"label"},"配置",-1))),d=["value"],f={class:"grid type"},w=s((()=>(0,n._)("div",{class:"label"},"属性",-1))),v=["value"],g={class:"grid speed"},_=s((()=>(0,n._)("div",{class:"label"},"速度",-1))),h=["value"],p={class:"grid"},m=s((()=>(0,n._)("div",{class:"label"},"連撃初段",-1))),y=["value"],b={class:"grid"},k=s((()=>(0,n._)("div",{class:"label"},"連撃弐段",-1))),H=["value"],C={class:"grid"},S=s((()=>(0,n._)("div",{class:"label"},"連撃参段",-1))),z=["value"],F={class:"grid show"},x={class:"label"},L=(0,n.Uk)("表示設定"),O=["onUpdate:modelValue"],U={class:"sort-area"},j=["onClick"],D=["onClick"],E={class:"unitData",ref:"unitData"},P=["onClick"],Y={key:0},V=["name","value","onBlur"],$={key:1},K=["onClick"],M=s((()=>(0,n._)("div",{style:{flex:"auto"}},[(0,n._)("div",null,"戦闘開始時攻撃力・連撃時のダメージ計算は"),(0,n._)("div",null,"限定条件での実験的な計算です。"),(0,n._)("div",null,"・キャラ単体で出撃"),(0,n._)("div",null,"・戦闘開始と同時に連撃を発動(気力消費の仕様は無視)"),(0,n._)("br"),(0,n._)("div",null,"キャラの攻撃力はクリックで"),(0,n._)("div",null,"一時的に編集できます。")],-1)));function N(t,e,i,s,N,R){const T=(0,n.up)("draggable"),q=(0,n.up)("modal");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("details",r,[(0,n._)("summary",null,[a,(0,n._)("button",{onClick:e[0]||(e[0]=(...t)=>s.filterReset&&s.filterReset(...t))},"リセット")]),(0,n._)("div",u,[c,((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(["近接","遠隔","遠近両用"],(t=>(0,n._)("label",null,[(0,n.wy)((0,n._)("input",{type:"checkbox",name:"配置","onUpdate:modelValue":e[1]||(e[1]=t=>s.filter.配置=t),value:t},null,8,d),[[l.e8,s.filter.配置]]),(0,n.Uk)((0,o.zw)(t),1)]))),64))]),(0,n._)("div",f,[w,((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(["火","水","風","土","闇","光","無"],(t=>(0,n._)("label",null,[(0,n.wy)((0,n._)("input",{type:"checkbox",name:"属性","onUpdate:modelValue":e[2]||(e[2]=t=>s.filter.属性=t),value:t},null,8,v),[[l.e8,s.filter.属性]]),(0,n.Uk)((0,o.zw)(t),1)]))),64))]),(0,n._)("div",g,[_,((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(["超早","早","並","遅","超遅"],(t=>(0,n._)("label",null,[(0,n.wy)((0,n._)("input",{type:"checkbox",name:"速度","onUpdate:modelValue":e[3]||(e[3]=t=>s.filter.速度=t),value:t},null,8,h),[[l.e8,s.filter.速度]]),(0,n.Uk)((0,o.zw)(t),1)]))),64))]),(0,n._)("div",p,[m,((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(["","0","1+"],(t=>(0,n._)("label",null,[(0,n.wy)((0,n._)("input",{type:"radio",name:"連撃初段","onUpdate:modelValue":e[4]||(e[4]=t=>s.filter.連撃初段=t),value:t},null,8,y),[[l.G2,s.filter.連撃初段]]),(0,n.Uk)((0,o.zw)(t||"all"),1)]))),64))]),(0,n._)("div",b,[k,((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(["","0","1+"],(t=>(0,n._)("label",null,[(0,n.wy)((0,n._)("input",{type:"radio",name:"連撃弐段","onUpdate:modelValue":e[5]||(e[5]=t=>s.filter.連撃弐段=t),value:t},null,8,H),[[l.G2,s.filter.連撃弐段]]),(0,n.Uk)((0,o.zw)(t||"all"),1)]))),64))]),(0,n._)("div",C,[S,((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(["","0","1+"],(t=>(0,n._)("label",null,[(0,n.wy)((0,n._)("input",{type:"radio",name:"連撃参段","onUpdate:modelValue":e[6]||(e[6]=t=>s.filter.連撃参段=t),value:t},null,8,z),[[l.G2,s.filter.連撃参段]]),(0,n.Uk)((0,o.zw)(t||"all"),1)]))),64))]),(0,n._)("div",F,[(0,n._)("div",x,[L,(0,n._)("a",{class:"sm",href:"#notice",onClick:e[7]||(e[7]=(0,l.iM)((t=>s.state.noticeShow=!0),["prevent"]))},"ダメージの計算について")]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.showColumns,(t=>((0,n.wg)(),(0,n.iD)("label",null,[(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":e=>s.filter.show[t]=e,value:!0},null,8,O),[[l.e8,s.filter.show[t]]]),(0,n.Uk)((0,o.zw)(t),1)])))),256))])]),(0,n._)("div",U,[(0,n._)("label",{onClick:e[8]||(e[8]=(...t)=>s.hilightHeader&&s.hilightHeader(...t))},"並び替え"),(0,n.Wm)(T,{class:"sort",modelValue:s.state.sortConfig,"onUpdate:modelValue":e[9]||(e[9]=t=>s.state.sortConfig=t),group:"sortConfig","ghost-class":"ghost","item-key":"name"},{item:(0,n.w5)((({element:t,index:e})=>[((0,n.wg)(),(0,n.iD)("div",{key:t.name},[(0,n._)("div",{class:(0,o.C_)(t.asc?"asc":"desc"),onClick:e=>t.asc=!t.asc},[(0,n._)("button",{class:"x",onClick:(0,l.iM)((t=>s.state.sortConfig.splice(e,1)),["stop"])},null,8,D),(0,n._)("div",null,(0,o.zw)(t.name),1)],10,j)]))])),_:1},8,["modelValue"])]),(0,n._)("div",E,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.columns,(t=>((0,n.wg)(),(0,n.iD)("div",{class:"header",onClick:e=>s.addSort(t)},[(0,n.wy)((0,n._)("div",{class:"c"},(0,o.zw)(t),513),[[l.F8,s.isShow(t)]])],8,P)))),256)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.sortedList,(t=>((0,n.wg)(),(0,n.iD)(n.HY,{key:t.no},[(0,n._)("div",null,[(0,n._)("div",(0,n.dG)({class:["img",t.image]},s.dd.draggableUnit(t.no)),null,16),(0,n._)("div",null,(0,o.zw)(t.名前),1)]),(0,n._)("div",null,[(0,n.wy)((0,n._)("div",{class:"c"},(0,o.zw)(t.配置),513),[[l.F8,s.filter.show.配置]])]),(0,n._)("div",null,[(0,n.wy)((0,n._)("div",{class:"c"},(0,o.zw)(t.属性),513),[[l.F8,s.filter.show.属性]])]),(0,n._)("div",null,[(0,n.wy)((0,n._)("div",{class:"c"},(0,o.zw)(t.速度),513),[[l.F8,s.filter.show.速度]])]),(0,n._)("div",null,[(0,n.wy)((0,n._)("div",{class:"c"},(0,o.zw)(t.Hit),513),[[l.F8,s.filter.show.Hit]])]),(0,n._)("div",null,[(0,n.wy)((0,n._)("div",{class:"r"},(0,o.zw)(t.HP?.toLocaleString()),513),[[l.F8,s.filter.show.HP]])]),s.state.editNo[t.no]?((0,n.wg)(),(0,n.iD)("div",Y,[(0,n._)("input",{class:"edit",type:"number",step:"1",min:"0",name:t.no,value:t.攻撃,onBlur:e=>s.updateStatus(t.no,e.target.value)},null,40,V)])):((0,n.wg)(),(0,n.iD)("div",$,[(0,n.wy)((0,n._)("div",{class:"r pointer",onClick:e=>s.clickStatus(t.no)},(0,o.zw)(t.攻撃?.toLocaleString()),9,K),[[l.F8,s.filter.show.攻撃]])])),(0,n._)("div",null,[(0,n.wy)((0,n._)("div",{class:"r"},(0,o.zw)(t.回復?.toLocaleString()),513),[[l.F8,s.filter.show.回復]])]),(0,n._)("div",null,[(0,n.wy)((0,n._)("div",{class:"c"},(0,o.zw)(t.初段C),513),[[l.F8,s.filter.show.連撃コスト]])]),(0,n._)("div",null,[(0,n.wy)((0,n._)("div",{class:"r"},(0,o.zw)(t.初段倍率&&t.初段倍率.toFixed(1).toLocaleString()+"%"),513),[[l.F8,s.filter.show.連撃倍率]])]),(0,n._)("div",null,[(0,n.wy)((0,n._)("div",{class:"c"},(0,o.zw)(t.弐段C),513),[[l.F8,s.filter.show.連撃コスト]])]),(0,n._)("div",null,[(0,n.wy)((0,n._)("div",{class:"r"},(0,o.zw)(t.弐段倍率&&t.弐段倍率.toFixed(1).toLocaleString()+"%"),513),[[l.F8,s.filter.show.連撃倍率]])]),(0,n._)("div",null,[(0,n.wy)((0,n._)("div",{class:"c"},(0,o.zw)(t.参段C),513),[[l.F8,s.filter.show.連撃コスト]])]),(0,n._)("div",null,[(0,n.wy)((0,n._)("div",{class:"r"},(0,o.zw)(t.参段倍率&&t.参段倍率.toFixed(1).toLocaleString()+"%"),513),[[l.F8,s.filter.show.連撃倍率]])]),(0,n._)("div",null,[(0,n.wy)((0,n._)("div",{class:"r"},(0,o.zw)(t.初段Hit?.toLocaleString()),513),[[l.F8,s.filter.show.連撃Hit]])]),(0,n._)("div",null,[(0,n.wy)((0,n._)("div",{class:"r"},(0,o.zw)(t.弐段Hit?.toLocaleString()),513),[[l.F8,s.filter.show.連撃Hit]])]),(0,n._)("div",null,[(0,n.wy)((0,n._)("div",{class:"r"},(0,o.zw)(t.参段Hit?.toLocaleString()),513),[[l.F8,s.filter.show.連撃Hit]])]),(0,n._)("div",null,[(0,n.wy)((0,n._)("div",{class:"r"},(0,o.zw)(t.戦闘開始時?.toLocaleString()),513),[[l.F8,s.filter.show.戦闘開始時]])]),(0,n._)("div",null,[(0,n.wy)((0,n._)("div",{class:"r"},(0,o.zw)(t.初段ダメージ?.toLocaleString()),513),[[l.F8,s.filter.show.ダメージ]])]),(0,n._)("div",null,[(0,n.wy)((0,n._)("div",{class:"r"},(0,o.zw)(t.弐段ダメージ?.toLocaleString()),513),[[l.F8,s.filter.show.ダメージ]])]),(0,n._)("div",null,[(0,n.wy)((0,n._)("div",{class:"r"},(0,o.zw)(t.参段ダメージ?.toLocaleString()),513),[[l.F8,s.filter.show.ダメージ]])])],64)))),128))],512),(0,n.Wm)(q,{id:"notice",show:s.state.noticeShow},{default:(0,n.w5)((()=>[M,(0,n._)("button",{onClick:e[10]||(e[10]=t=>s.state.noticeShow=!1)},"閉じる")])),_:1},8,["show"])],64)}var R=i(2262),T=i(9980),q=i.n(T),G=i(7837),J=i(7349),Z=i(9897),B={components:{draggable:q(),modal:G.Z},setup(){const t=(0,R.qj)({unitList:[]}),e=["名前","配置","属性","速度","Hit","HP","攻撃","回復","初段C","初段倍率","弐段C","弐段倍率","参段C","参段倍率","初段Hit","弐段Hit","参段Hit","戦闘開始時","初段ダメージ","弐段ダメージ","参段ダメージ"],i=["配置","属性","速度","Hit","HP","攻撃","回復","連撃コスト","連撃倍率","連撃Hit","戦闘開始時","ダメージ"],l=(0,R.qj)({"配置":[],"属性":[],"速度":[],"連撃初段":"","連撃弐段":"","連撃参段":"",show:Object.fromEntries(i.map((t=>[t,!0])))}),o=(0,R.qj)({list:[],sortConfig:[],editNo:{},noticeShow:!1}),s=(0,n.Fl)((()=>{let t=[...o.list];if(l.配置.length){const e=l.配置;t=t.filter((t=>e.includes(t.配置)))}if(l.属性.length){const e=new RegExp(l.属性.join("|"));t=t.filter((t=>e.test(t.属性)))}if(l.速度.length){const e=new RegExp(`^${l.速度.join("|")}$`);t=t.filter((t=>e.test(t.速度)))}for(const e of["連撃初段","連撃弐段","連撃参段"])if(l[e]){const i=e.substring(2)+"C";t="0"===l[e]?t.filter((t=>0===t[i])):t.filter((t=>0!==t[i]))}return t})),r=(0,n.Fl)((()=>0===o.sortConfig.length?s.value:s.value.sort(((t,e)=>{const i=[...o.sortConfig];return W(t,e,i)}))));(0,n.bv)((()=>{J.load().then((e=>{Object.assign(t,e),o.list=t.unitList.filter((t=>!/\./.test(t.no))).map((t=>({no:t.no,image:t.image,"名前":t.name,"配置":t.position,"属性":t.type,"速度":t.speed,Hit:t.hit,HP:t.hp,"攻撃":t.power,"回復":t.heal,"初段C":t.rengeki_cost1,"初段倍率":t.rengeki_rate1,"弐段C":t.rengeki_cost2,"弐段倍率":t.rengeki_rate2,"参段C":t.rengeki_cost3,"参段倍率":t.rengeki_rate3,"初段Hit":t.rengeki_hit1||1,"弐段Hit":t.rengeki_hit2||1,"参段Hit":t.rengeki_hit3||1,"戦闘開始時":null,"初段ダメージ":null,"弐段ダメージ":null,"参段ダメージ":null}))),(0,n.Y3)((()=>{I(o,t)}))}))}));const a=(0,R.iH)(null);function u(){a.value.classList.add("onLight"),setTimeout((()=>{a.value.classList.remove("onLight")}),100)}function c(t){o.sortConfig.find((e=>e.name===t))||o.sortConfig.push({name:t,asc:!1})}function d(){Object.assign(l,{"配置":[],"属性":[],"速度":[],"連撃初段":"","連撃弐段":"","連撃参段":"",show:Object.fromEntries(i.map((t=>[t,!0])))})}function f(t){switch(t){case"名前":return!0;case"配置":return l.show.配置;case"属性":return l.show.属性;case"速度":return l.show.速度;case"Hit":return l.show.Hit;case"HP":return l.show.HP;case"攻撃":return l.show.攻撃;case"回復":return l.show.回復;case"初段C":case"弐段C":case"参段C":return l.show.連撃コスト;case"初段倍率":case"弐段倍率":case"参段倍率":return l.show.連撃倍率;case"初段Hit":case"弐段Hit":case"参段Hit":return l.show.連撃Hit;case"戦闘開始時":return l.show.戦闘開始時;case"初段ダメージ":case"弐段ダメージ":case"参段ダメージ":return l.show.ダメージ}}function w(t){o.editNo[t]=!0,(0,n.Y3)((()=>document.querySelector(`input[name="${t}"]`).focus()))}function v(e,i){const l=o.list.find((t=>t.no===e));l.攻撃=Number(i);const n=t.unitTokuseiList.filter((t=>t.unit_no===e));A(l,n),o.editNo[e]=!1}return{columns:e,showColumns:i,filter:l,state:o,sortedList:r,unitData:a,hilightHeader:u,addSort:c,filterReset:d,isShow:f,clickStatus:w,updateStatus:v,dd:(0,Z.Z)()}}};function W(t,e,i){const{name:l,asc:n}=i.shift();return t[l]===e[l]?0===i.length?0:W(t,e,i):t[l]<e[l]?-1*(n?1:-1):1*(n?1:-1)}function I(t,e){let i=[...e.unitTokuseiList];i=i.filter((t=>!/\./.test(t.unit_no))),t.list.forEach((t=>{const e=[];while(i.length){if(i[0].unit_no!==t.no)break;e.push(i.shift())}A(t,e)}))}function A(t,e){const i=t.攻撃?"攻撃力":"回復力",l=JSON.parse(JSON.stringify(e));l.forEach(((t,e)=>{t.id=e}));const n=t.攻撃?"攻撃":"回復";let o=Q(t,"戦闘開始時",l,[]);t.戦闘開始時=et(i,t[n],o),"キウル［弓護衆］"!==t.名前&&"カルラ［妖酊酔宴］"!==t.名前||(t.初段倍率&&(t.初段ダメージ="計算予定なし"),t.弐段倍率&&(t.弐段ダメージ="計算予定なし"),t.参段倍率&&(t.参段ダメージ="計算予定なし")),t.回復||(t.初段倍率&&(t.初段ダメージ=Math.floor(et(i,t[n],o)*(t.初段倍率/100))),o=Q(t,"連撃初段",l,o,!!t.初段倍率),t.弐段倍率&&(t.弐段ダメージ=Math.floor(et(i,t[n],o)*(t.弐段倍率/100))),o=Q(t,"連撃弐段",l,o,!!t.弐段倍率),t.参段倍率&&(t.参段ダメージ=Math.floor(et(i,t[n],o)*(t.参段倍率/100))))}function Q(t,e,i,l,n=!1){let o;return"戦闘開始時"===e?(o=i.filter((e=>"戦闘開始時"===e.trigger1&&X(t,e))),JSON.parse(JSON.stringify(o))):/連撃.段/.test(e)?(n&&(t.攻撃||"キウル［弓護衆］"===t.名前||"カルラ［妖酊酔宴］"===t.名前)&&(l=Q(t,"攻撃時",i,l)),o=i.filter((i=>[i.trigger1,i.trigger2].includes(e)&&X(t,i))),tt(l,o),l):"攻撃時"===e?(l=l.filter((t=>{if(/攻撃力(UP|ダウン)/.test(t.特性)&&/^(\d+)回$/.test(t.持続)){const e=+RegExp.$1-1;if(0===e)return!1;t.持続=`${e}回`}return!0})),o=i.filter((i=>[i.trigger1,i.trigger2].includes(e)&&X(t,i))),tt(l,o),l):l}function X(t,e){return!!e.対象.includes("自身")||!!/味方全体/.test(e.対象.join(","))}function tt(t,e){e.forEach((e=>{if("累積"!==e.累積)if("再装"!==e.累積)t.find((t=>t.id===e.id))||t.push(e);else{const i=t.find((t=>t.id===e.id));i?Object.assign(i,e):t.push(e)}else t.push(e)}))}function et(t,e,i){const l={rate:0,fix:0},n={rate:0,fix:0};i.filter((e=>e.特性===`${t}UP`)).forEach((t=>{/(\d+)％/.test(t.効果量)?l.rate+=+RegExp.$1:l.fix+=+t.効果量})),i.filter((e=>e.特性===`${t}ダウン`)).forEach((t=>{/(\d+)％/.test(t.効果量)?n.rate+=+RegExp.$1:n.fix+=+t.効果量}));const o=e*(100+l.rate-n.rate)/100+l.fix-l.fix;return Math.floor(o)}var it=i(3744);const lt=(0,it.Z)(B,[["render",N],["__scopeId","data-v-2017b8ab"]]);var nt=lt;(0,l.ri)(nt).mount("#main")}},e={};function i(l){var n=e[l];if(void 0!==n)return n.exports;var o=e[l]={exports:{}};return t[l].call(o.exports,o,o.exports,i),o.exports}i.m=t,function(){var t=[];i.O=function(e,l,n,o){if(!l){var s=1/0;for(c=0;c<t.length;c++){l=t[c][0],n=t[c][1],o=t[c][2];for(var r=!0,a=0;a<l.length;a++)(!1&o||s>=o)&&Object.keys(i.O).every((function(t){return i.O[t](l[a])}))?l.splice(a--,1):(r=!1,o<s&&(s=o));if(r){t.splice(c--,1);var u=n();void 0!==u&&(e=u)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[l,n,o]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var l in e)i.o(e,l)&&!i.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:e[l]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){i.j=194}(),function(){var t={194:0};i.O.j=function(e){return 0===t[e]};var e=function(e,l){var n,o,s=l[0],r=l[1],a=l[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(n in r)i.o(r,n)&&(i.m[n]=r[n]);if(a)var c=a(i)}for(e&&e(l);u<s.length;u++)o=s[u],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return i.O(c)},l=self["webpackChunkfront"]=self["webpackChunkfront"]||[];l.forEach(e.bind(null,0)),l.push=e.bind(null,l.push.bind(l))}();var l=i.O(void 0,[998,64],(function(){return i(9555)}));l=i.O(l)})();