(function(){"use strict";var o={3947:function(o,n,e){var l=e(9963),i=e(6252),t=e(3577);const s=o=>((0,i.dD)("data-v-154cda3b"),o=o(),(0,i.Cn)(),o),a={class:"form-area"},u=s((()=>(0,i._)("p",{class:"title"},"編成",-1))),r={class:"editor"},d=["title"],c=["onClick"],f=["onClick"],v=["onClick"],_=["onClick"],m={class:"detail-area"},p={class:"search-area",ref:"searchArea"},w=s((()=>(0,i._)("div",null,"保存名",-1))),b={class:"slot-list"},g=s((()=>(0,i._)("div",{class:"text"},"保存先",-1))),k={key:0,class:"preview"},y=s((()=>(0,i._)("span",{class:"red"},"▶︎",-1))),h={class:"footer"},M=s((()=>(0,i._)("input",{type:"submit",form:"saveModal",value:"保存"},null,-1))),D=s((()=>(0,i._)("div",null,"読込先",-1))),x=["onClick"],z={class:"name"},L={key:1,class:"item not-selectable"},S={class:"slot"},C=s((()=>(0,i._)("div",{class:"name"},null,-1))),F={class:"footer"},T=s((()=>(0,i._)("input",{type:"submit",form:"loadModal",value:"読込"},null,-1)));function H(o,n,e,s,H,O){const V=(0,i.up)("form-edit"),j=(0,i.up)("form-detail"),Y=(0,i.up)("tokusei-search"),q=(0,i.up)("radio"),I=(0,i.up)("modal");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",a,[u,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.state.formList,((n,e)=>((0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",r,[(0,i._)("div",{class:"name",title:n.name},(0,t.zw)(n.name||"no name"),9,d),(0,i._)("button",{onClick:n=>o.openSaveModal(e)},"保存",8,c),(0,i._)("button",{onClick:n=>o.openLoadModal(e)},"読込",8,f),(0,i._)("button",{onClick:o=>s.detailView(n)},"詳細",8,v),(0,i._)("button",{class:"end",onClick:o=>s.closeForm(e)},"閉じる",8,_)]),(0,i.Wm)(V,{form:n,index:e,selectTarget:s.state.selectTarget,onSelect:s.setSelectTarget,onRemove:s.selectTargetRemove,onDrop:s.dropItem},null,8,["form","index","selectTarget","onSelect","onRemove","onDrop"])])))),256)),(0,i._)("button",{onClick:n[0]||(n[0]=(...o)=>s.addForm&&s.addForm(...o))},"追加")]),(0,i.wy)((0,i._)("div",m,[(0,i.Wm)(j,{form:s.state.detailViewForm},null,8,["form"])],512),[[l.F8,s.state.detailViewForm]]),(0,i.wy)((0,i._)("div",p,[(0,i.Wm)(Y),(0,i._)("button",{class:"scroll-top",onClick:n[1]||(n[1]=(...o)=>s.scrollTop&&s.scrollTop(...o))},"⬆︎")],512),[[l.F8,!s.state.detailViewForm]]),(0,i.Wm)(I,{render:s.saveModal.show},{default:(0,i.w5)((()=>[(0,i._)("form",{id:"saveModal",onSubmit:n[5]||(n[5]=(0,l.iM)(((...n)=>o.saveForm&&o.saveForm(...n)),["prevent"]))},[w,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"保存名","onUpdate:modelValue":n[2]||(n[2]=o=>s.saveModal.form.name=o)},null,512),[[l.nr,s.saveModal.form.name]]),(0,i.wy)((0,i._)("textarea",{placeholder:"メモ...",rows:"10","onUpdate:modelValue":n[3]||(n[3]=o=>s.saveModal.form.note=o)},null,512),[[l.nr,s.saveModal.form.note]]),(0,i._)("div",b,[g,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)([...Array(20).keys()].map((o=>o+1)),(o=>((0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(q,{name:"slotNo",required:"",value:o,modelValue:s.saveModal.slotNo,"onUpdate:modelValue":n[4]||(n[4]=o=>s.saveModal.slotNo=o),hideInput:"",title:s.loadModal.savedForm[o]?.name},{default:(0,i.w5)((()=>[(0,i._)("span",{class:(0,t.C_)(["slot",{on:s.saveModal.slotNo==o}])},(0,t.zw)(o),3)])),_:2},1032,["value","modelValue","title"])])))),256))])],32),s.loadModal.savedForm[s.saveModal.slotNo]?((0,i.wg)(),(0,i.iD)("div",k,[y,(0,i.Uk)((0,t.zw)(s.loadModal.savedForm[s.saveModal.slotNo].name),1)])):(0,i.kq)("",!0),(0,i._)("div",h,[M,(0,i._)("button",{onClick:n[6]||(n[6]=(...n)=>o.closeSaveModal&&o.closeSaveModal(...n))},"閉じる")])])),_:1},8,["render"]),(0,i.Wm)(I,{render:s.loadModal.show},{default:(0,i.w5)((()=>[(0,i._)("form",{id:"loadModal",onSubmit:n[7]||(n[7]=(0,l.iM)(((...n)=>o.loadForm&&o.loadForm(...n)),["prevent"]))},[D,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)([...Array(20).keys()].map((o=>o+1)),(o=>((0,i.wg)(),(0,i.iD)(i.HY,null,[s.loadModal.savedForm[o]?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"item",onClick:n=>s.loadModal.slotNo=o},[(0,i._)("div",{class:(0,t.C_)(["slot",{on:s.loadModal.slotNo==o}])},(0,t.zw)(o),3),(0,i._)("div",z,(0,t.zw)(s.loadModal.savedForm[o].name),1)],8,x)):((0,i.wg)(),(0,i.iD)("div",L,[(0,i._)("div",S,(0,t.zw)(o),1),C]))],64)))),256))],32),(0,i._)("div",F,[T,(0,i._)("button",{onClick:n[8]||(n[8]=(...n)=>o.closeLoadModal&&o.closeLoadModal(...n))},"閉じる")])])),_:1},8,["render"])],64)}var O=e(2262),V=e(7299);const j=o=>((0,i.dD)("data-v-449affaa"),o=o(),(0,i.Cn)(),o),Y={key:0,class:"grid"},q=["set"],I={class:"status"},N={class:"unit"},P={class:"flex"},K=j((()=>(0,i._)("label",null,"HP:",-1))),U={class:"end"},W={key:0,class:"flex"},Z=j((()=>(0,i._)("label",null,"攻撃:",-1))),A={class:"end"},R={key:1,class:"flex"},$=j((()=>(0,i._)("label",null,"回復:",-1))),E={class:"end"},J={class:"soubi"},B={class:"flex"},G=j((()=>(0,i._)("label",null,"HP:",-1))),Q={class:"end"},X={class:"flex"},oo=j((()=>(0,i._)("label",null,"攻撃:",-1))),no={class:"end"},eo={class:"soubi"},lo={class:"flex"},io=j((()=>(0,i._)("label",null,"HP:",-1))),to={class:"end"},so={class:"flex"},ao=j((()=>(0,i._)("label",null,"攻撃:",-1))),uo={class:"end"},ro={key:0,class:"spec"},co=j((()=>(0,i._)("div",null,"合計HP",-1))),fo=j((()=>(0,i._)("div",null,"合計攻撃",-1))),vo=j((()=>(0,i._)("div",null,"合計回復",-1))),_o=j((()=>(0,i._)("div",null,"気力消費",-1))),mo={class:"tokusei"},po={class:"sm"},wo={class:"sm"},bo={class:"sm"},go={class:"sm"};function ko(o,n,e,l,s,a){return e.form?((0,i.wg)(),(0,i.iD)("div",Y,[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)([1,2,3,4,5,6],(n=>(0,i._)("div",{class:"pos",set:o.d=l.formData[n]},[(0,i._)("div",I,[(0,i._)("div",N,[o.d.unit.info?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",{class:(0,t.C_)(["img",o.d.unit.info.image])},null,2),(0,i._)("div",P,[K,(0,i._)("div",U,(0,t.zw)(o.d.unit.info.hp.toLocaleString()),1)]),o.d.unit.info.power?((0,i.wg)(),(0,i.iD)("div",W,[Z,(0,i._)("div",A,(0,t.zw)(o.d.unit.info.power.toLocaleString()),1)])):((0,i.wg)(),(0,i.iD)("div",R,[$,(0,i._)("div",E,(0,t.zw)(o.d.unit.info.heal.toLocaleString()),1)]))],64)):(0,i.kq)("",!0)]),(0,i._)("div",J,[o.d.soubi1.info?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",{class:(0,t.C_)(["img",o.d.soubi1.info.image])},null,2),(0,i._)("div",B,[G,(0,i._)("div",Q,(0,t.zw)(o.d.soubi1.info.hp.toLocaleString()),1)]),(0,i._)("div",X,[oo,(0,i._)("div",no,(0,t.zw)(o.d.soubi1.info.power.toLocaleString()),1)])],64)):(0,i.kq)("",!0)]),(0,i._)("div",eo,[o.d.soubi2.info?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",{class:(0,t.C_)(["img",o.d.soubi2.info.image])},null,2),(0,i._)("div",lo,[io,(0,i._)("div",to,(0,t.zw)(o.d.soubi2.info.hp.toLocaleString()),1)]),(0,i._)("div",so,[ao,(0,i._)("div",uo,(0,t.zw)(o.d.soubi2.info.power.toLocaleString()),1)])],64)):(0,i.kq)("",!0)]),o.d.unit.info?((0,i.wg)(),(0,i.iD)("div",ro,[co,(0,i._)("div",null,(0,t.zw)(l.sum(o.d,"hp")),1),o.d.unit.info.power?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[fo,(0,i._)("div",null,(0,t.zw)(l.sum(o.d,"power")),1)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[vo,(0,i._)("div",null,(0,t.zw)(l.sum(o.d,"heal")),1)],64)),_o,(0,i._)("div",null,(0,t.zw)(o.d.unit.info.rengeki_cost1)+" / "+(0,t.zw)(o.d.unit.info.rengeki_cost2)+" / "+(0,t.zw)(o.d.unit.info.rengeki_cost3),1),(0,i._)("div",null,"攻速: "+(0,t.zw)(o.d.unit.info.speed),1),(0,i._)("div",null,(0,t.zw)(o.d.unit.info.hit)+"回",1)])):(0,i.kq)("",!0)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)([o.d.unit.tokusei,o.d.soubi1.tokusei,o.d.soubi2.tokusei],(o=>((0,i.wg)(),(0,i.iD)("ul",mo,[o?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(o,(o=>((0,i.wg)(),(0,i.iD)("li",null,[(0,i._)("span",po,(0,t.zw)(l.vf.trigger(o)),1),(0,i._)("span",{class:(0,t.C_)(l.vf.付与対象判定(o))},(0,t.zw)(l.vf.対象(o))+" に "+(0,t.zw)(o.特性),3),(0,i._)("span",wo,(0,t.zw)(o.効果量),1),(0,i._)("span",bo,(0,t.zw)(o.持続),1),(0,i._)("span",go,(0,t.zw)(o.累積),1)])))),256)):(0,i.kq)("",!0)])))),256))],8,q))),64))])):(0,i.kq)("",!0)}var yo=e(975),ho=e(1538),Mo={props:{form:Object},setup(o){const n=(0,i.Fl)((()=>{const n={};for(const e of[...Array(6).keys()]){const l=o.form[e+1];n[e+1]={unit:yo.getUnitInfo(l.unit_no),soubi1:yo.getSoubiInfo(l.soubi1_no),soubi2:yo.getSoubiInfo(l.soubi2_no)}}return n}));function e(o,n){const e=o.unit.info[n]+(o.soubi1?.info?.[n]||0)+(o.soubi2?.info?.[n]||0);return e.toLocaleString()}return{formData:n,sum:e,vf:ho}}},Do=e(3744);const xo=(0,Do.Z)(Mo,[["render",ko],["__scopeId","data-v-449affaa"]]);var zo=xo,Lo=e(7205),So=e(7837),Co=e(5356),Fo=e(7349),To=e(6410),Ho={components:{formEdit:V.Z,formDetail:zo,TokuseiSearch:Lo.Z,modal:So.Z,radio:Co.Z},setup(){const o=(0,O.qj)({formList:[],selectTarget:null,detailViewForm:null}),n=(0,O.qj)(To.Vs()),e=(0,O.qj)(To.c_());function l(){o.formList.push({1:{unit_no:null,soubi1_no:null,soubi2_no:null},2:{unit_no:null,soubi1_no:null,soubi2_no:null},3:{unit_no:null,soubi1_no:null,soubi2_no:null},4:{unit_no:null,soubi1_no:null,soubi2_no:null},5:{unit_no:null,soubi1_no:null,soubi2_no:null},6:{unit_no:null,soubi1_no:null,soubi2_no:null}})}function t(n){o.detailViewForm=n}function s(n){if(!o.selectTarget)return;const[e,l,i]=o.selectTarget.split("_");"u"===i&&n.unit?o.formList[+e][l].unit_no=n.unit:/s([1,2])/.test(i)&&n.soubi&&(o.formList[+e][l][`soubi${RegExp.$1}_no`]=n.soubi)}function a(n){o.selectTarget=n,o.detailViewForm=null}function u(){const[n,e,l]=o.selectTarget.split("_");if("u"===l)o.formList[n][e].unit_no=null;else{const i=`soubi${/\d/.exec(l)}_no`;o.formList[n][e][i]=null}}function r(n){const{no:e,option:l,dragOption:i}=n,t=d(l.target);if(null===i||l.index!==i.index)o.formList[l.index][l.pos][t]=e;else if(l.index===i.index){const n=d(i.target),e=o.formList[i.index][i.pos][n],s=o.formList[l.index][l.pos][t];o.formList[l.index][l.pos][t]=e,o.formList[i.index][i.pos][n]=s}}function d(o){return"u"===o?"unit_no":`soubi${/s([1,2])/.exec(o)[1]}_no`}(0,i.JJ)("choiseListener",s);const c=(0,O.iH)(null);function f(){c.value.scrollTop=0}function v(n){o.formList.splice(n,1),o.selectTarget=null}return{state:o,saveModal:n,loadModal:e,addForm:l,detailView:t,setSelectTarget:a,selectTargetRemove:u,dropItem:r,searchArea:c,scrollTop:f,...To.IU(o,Fo,n,e),closeForm:v}}};const Oo=(0,Do.Z)(Ho,[["render",H],["__scopeId","data-v-154cda3b"]]);var Vo=Oo;(0,l.ri)(Vo).mount("#main")}},n={};function e(l){var i=n[l];if(void 0!==i)return i.exports;var t=n[l]={exports:{}};return o[l].call(t.exports,t,t.exports,e),t.exports}e.m=o,function(){var o=[];e.O=function(n,l,i,t){if(!l){var s=1/0;for(d=0;d<o.length;d++){l=o[d][0],i=o[d][1],t=o[d][2];for(var a=!0,u=0;u<l.length;u++)(!1&t||s>=t)&&Object.keys(e.O).every((function(o){return e.O[o](l[u])}))?l.splice(u--,1):(a=!1,t<s&&(s=t));if(a){o.splice(d--,1);var r=i();void 0!==r&&(n=r)}}return n}t=t||0;for(var d=o.length;d>0&&o[d-1][2]>t;d--)o[d]=o[d-1];o[d]=[l,i,t]}}(),function(){e.d=function(o,n){for(var l in n)e.o(n,l)&&!e.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:n[l]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){e.o=function(o,n){return Object.prototype.hasOwnProperty.call(o,n)}}(),function(){e.r=function(o){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}(),function(){e.j=972}(),function(){var o={972:0};e.O.j=function(n){return 0===o[n]};var n=function(n,l){var i,t,s=l[0],a=l[1],u=l[2],r=0;if(s.some((function(n){return 0!==o[n]}))){for(i in a)e.o(a,i)&&(e.m[i]=a[i]);if(u)var d=u(e)}for(n&&n(l);r<s.length;r++)t=s[r],e.o(o,t)&&o[t]&&o[t][0](),o[t]=0;return e.O(d)},l=self["webpackChunkfront"]=self["webpackChunkfront"]||[];l.forEach(n.bind(null,0)),l.push=n.bind(null,l.push.bind(l))}();var l=e.O(void 0,[998,64],(function(){return e(3947)}));l=e.O(l)})();